package com.wipro.eb.service;

import com.wipro.eb.exception.InvalidConnectionException;
import com.wipro.eb.exception.InvalidReadingException;

public class ConnectionService {
	
	public boolean validate(int currentReading, int previousReading, String type) throws InvalidReadingException, InvalidConnectionException
	{
		
		int reading=currentReading-previousReading;
		boolean result=false;
		boolean contype=false;
		boolean conreading=false;
		
		
		if(currentReading<previousReading||reading<0){
			
			throw new InvalidReadingException();
			
		}else
			
		{
			conreading=true;
		}
			
			if(!type.equalsIgnoreCase("Domestic")||!type.equalsIgnoreCase("Commercial"))
		{
			throw new InvalidConnectionException();
		}
			
		
		else {
			contype= true;
		}
			
			
			if(conreading&&contype){
				result=true;
			}
		
		return result;
	}
	
	
	

}
